# START HERE - Debate ‚Üí Judge ‚Üí Publish Workflow
**Created:** 2025.09.28 14:04
**Project:** openai-agents-workflows-2025.09.28-v1

## üöÄ Quick Start Guide

### Step 1: Set Your OpenAI API Key
```powershell
# PowerShell (Windows)
$env:OPENAI_API_KEY = "sk-your-key-here"

# Bash (macOS/Linux)
export OPENAI_API_KEY="sk-your-key-here"
```

### Step 2: Run Your First Workflow
```powershell
cd C:\Users\kylem\openai-agents-workflows-2025.09.28-v1

python -m src.run_workflow --task "Write a 180-word market brief on electric VTOL aircraft in 2025 with 3 sources."
```

### Step 3: Check Your Results
- Console will show live progress
- Look for new log file: `YYYY.MM.DD-HHMM-DEBATE-JUDGE-RUN.md`
- Published content appears at the end

## üéØ What This Does

**Debate ‚Üí Judge ‚Üí Publish (DJP)** gives you best-of-the-best AI responses by:

1. **üó£Ô∏è DEBATE**: Multiple AI models tackle your task simultaneously
   - OpenAI GPT-4, GPT-4o-mini (always)
   - Claude, Gemini (if you have API keys)

2. **‚öñÔ∏è JUDGE**: Strict scoring rubric ranks all responses
   - Task Fit (0-4): Answers the question properly
   - Factual Support (0-4): Evidence quality
   - Clarity (0-2): Clear, concise writing

3. **üì§ PUBLISH**: Only verbatim text from trusted providers
   - Ensures legal/IP safety
   - No blended or edited content
   - Full provenance tracking

## üõ°Ô∏è Built-in Safeguards

- **Verbatim Rule**: Published text is exactly what the AI wrote
- **Provider Allowlist**: Only OpenAI models can publish by default
- **Quote Protection**: Blocks responses with long copied text (>75 words)
- **Safety Checks**: Filters policy violations automatically

## üìä Example Output

```
Starting Debate-Judge-Publish workflow
Task: Write a 180-word market brief on electric VTOL aircraft in 2025 with 3 sources.
Trace: debate-judge

Running debate stage...
Generated 2 valid drafts
Running judge stage...
Judge ranked 2 drafts
Running publish stage...

============================================================
WORKFLOW COMPLETE
============================================================
PUBLISHED (verbatim from openai/gpt-4o)
Log file: 2025.09.28-1405-DEBATE-JUDGE-RUN.md

Content preview (openai/gpt-4o):
----------------------------------------
The electric vertical takeoff and landing (eVTOL) aircraft market is experiencing rapid growth in 2025, driven by urban air mobility initiatives and technological advances...
----------------------------------------
```

## üîß Customization Options

### Change Task Parameters
```powershell
python -m src.run_workflow \
  --task "Your custom task here" \
  --max_tokens 800 \
  --temperature 0.5 \
  --trace_name "my-analysis"
```

### Add More AI Providers (Optional)
```powershell
# Add these for more diverse debate
$env:ANTHROPIC_API_KEY = "sk-ant-..."
$env:GOOGLE_API_KEY = "AIza..."
```

### Modify Allowed Publishers
Edit `src/config.py` to change which models can publish:
```python
ALLOWED_PUBLISH_MODELS = [
    "openai/gpt-4o",      # Keep this one
    "openai/gpt-4o-mini", # Add or remove others
]
```

## üìÅ Project Files

- `src/run_workflow.py` - Main CLI interface
- `src/debate.py` - Multi-agent debate orchestration
- `src/judge.py` - Scoring and ranking system
- `src/publish.py` - Safe verbatim publishing
- `src/guardrails.py` - Content validation
- `src/schemas.py` - Data structures
- `src/config.py` - Settings and API keys

## üÜò Troubleshooting

**"ERROR: OPENAI_API_KEY environment variable is required"**
‚Üí Set your API key with the commands in Step 1

**"No valid drafts generated"**
‚Üí Check your API key is correct and has credits

**"ADVISORY ONLY (from provider - not in allowed list)"**
‚Üí The best response came from a non-allowed provider. Either use it as-is or add that provider to your allowed list.

## üìñ Full Documentation

For complete technical details, see:
- `2025.09.28-2030-DJP-IMPLEMENTATION-COMPLETE.md` - Implementation log
- `Best-of-Best-Agents-Playbook-2025-09-28.md` - Original playbook

## üéâ You're Ready!

Run the command in Step 2 and watch the magic happen. You'll get enterprise-grade AI responses with full legal/IP protection built in.

---

**Need help?** Read the detailed implementation log or ask Claude Code to "help me run my first DJP workflow test" when you're ready to go!
